<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>369 게임</title>
</head>
<body>
  <style>
    h1 {
      user-select: none;
    }
    .result {
      font-size: 50px;
      margin-left: 30px;
      color: red;
      font-weight: bold;
    }
  </style>
  <h1 id="h102">클릭 횟수 : 0</h1>
  <span id="result2" class="result"></span>
  <button id="connect">이벤트 연결</button>
  <button id="disconnect">이벤트 제거</button>
  <p id="status">이벤트 연결 상태 : 해제</p>

  <script>
    const h102 = document.querySelector("#h102");
    const status = document.querySelector("#status");
    const cButton = document.querySelector("#connect");
    const dButton = document.querySelector("#disconnect");
    const result2 = document.querySelector("#result2");
    let ctr = 1;

    const listener = () => {
      h102.textContent = `클릭 횟수 : ${ctr}`;
      result2.textContent = getClapString(ctr);
      ctr++;
    };

    const getClapString = (num) => {
      let str = '';
      const numStr = num.toString();
      for (let char of numStr) {
        if (char === '3' || char === '6' || char === '9') {
          str += '짝';
        }
      }
      return str;
    };

    // 이벤트 연결
    cButton.addEventListener("click", () => {
      h102.addEventListener("click", listener);
      status.textContent = "이벤트 연결 상태 : 연결";
    });

    // 이벤트 해제
    dButton.addEventListener("click", () => {
      h102.removeEventListener("click", listener);
      status.textContent = "이벤트 연결 상태 : 해제";
    });


  </script>
</body>
</html>